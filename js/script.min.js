for(var buy_btn=document.querySelectorAll(".product-buy"),bookmark_btn=document.querySelectorAll(".product-bookmark"),popup_cart=document.querySelector(".modal-cart"),close_cart=popup_cart.querySelector(".modal-close"),basket=document.querySelector(".header-basket"),bookmark=document.querySelector(".header-bookmark"),overlay=document.querySelector(".modal-overlay"),i=0;i<buy_btn.length;i++)buy_btn[i].addEventListener("click",function(e){e.preventDefault(),popup_cart.classList.add("modal-show"),basket.classList.add("basket-catalog"),overlay.classList.add("overlay-show")});for(i=0;i<bookmark_btn.length;i++)bookmark_btn[i].addEventListener("click",function(e){e.preventDefault(),bookmark.classList.add("basket-catalog")});close_cart.addEventListener("click",function(e){e.preventDefault(),popup_cart.classList.remove("modal-show"),overlay.classList.remove("overlay-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&popup_cart.classList.contains("modal-show")&&(e.preventDefault(),popup_cart.classList.remove("modal-show"),overlay.classList.remove("overlay-show"))}),overlay.addEventListener("click",function(){overlay.classList.remove("overlay-show"),popup_cart.classList.remove("modal-show"),popup_mail.classList.remove("modal-show"),popup_map.classList.remove("modal-show")});var contact_btn=document.querySelector(".company-contact-btn"),popup_mail=document.querySelector(".mail-form"),close_mail=popup_mail.querySelector(".modal-close"),form=popup_mail.querySelector("form"),mail_name=popup_mail.querySelector("[name=modal-name]"),mail_email=popup_mail.querySelector("[name=modal-email]"),mail_text=popup_mail.querySelector("[name=modal-text]"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("mail_name")}catch(e){isStorageSupport=!1}contact_btn.addEventListener("click",function(e){e.preventDefault(),popup_mail.classList.add("modal-show"),overlay.classList.add("overlay-show"),storage?(mail_name.value=storage,mail_email.focus()):mail_name.focus()}),close_mail.addEventListener("click",function(e){e.preventDefault(),popup_mail.classList.remove("modal-show"),popup_mail.classList.remove("modal-error"),overlay.classList.remove("overlay-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&popup_mail.classList.contains("modal-show")&&(e.preventDefault(),popup_mail.classList.remove("modal-show"),overlay.classList.remove("overlay-show"))}),form.addEventListener("submit",function(e){mail_name.value&&mail_email.value&&mail_text.value?isStorageSupport&&localStorage.setItem("mail_name",mail_name.value):(e.preventDefault(),popup_mail.classList.remove("modal-error"),popup_mail.offsetWidth=popup_mail.offsetWidth,popup_mail.classList.add("modal-error"))});var map_btn=document.querySelector(".company-contact-map"),popup_map=document.querySelector(".modal-map"),close_map=popup_map.querySelector(".modal-close");map_btn.addEventListener("click",function(e){e.preventDefault(),popup_map.classList.add("modal-show"),overlay.classList.add("overlay-show")}),close_map.addEventListener("click",function(e){e.preventDefault(),popup_map.classList.remove("modal-show"),overlay.classList.remove("overlay-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&popup_map.classList.contains("modal-show")&&(e.preventDefault(),popup_map.classList.remove("modal-show"),overlay.classList.remove("overlay-show"))});var btn_delivery=document.querySelector(".btn-delivery"),btn_warrianty=document.querySelector(".btn-warrianty"),btn_credit=document.querySelector(".btn-credit"),delivery=document.querySelector(".service-delivery"),warrianty=document.querySelector(".service-warrianty"),credit=document.querySelector(".service-credit");function clearSelection(e){e.preventDefault(),btn_delivery.classList.remove("service-btn-active"),btn_warrianty.classList.remove("service-btn-active"),btn_credit.classList.remove("service-btn-active"),delivery.classList.remove("service-show"),warrianty.classList.remove("service-show"),credit.classList.remove("service-show")}function makeActive(e,a){e.classList.add("service-show"),a.classList.add("service-btn-active")}btn_delivery.addEventListener("click",function(e){clearSelection(e),makeActive(delivery,btn_delivery)}),btn_warrianty.addEventListener("click",function(e){clearSelection(e),makeActive(warrianty,btn_warrianty)}),btn_credit.addEventListener("click",function(e){clearSelection(e),makeActive(credit,btn_credit)});